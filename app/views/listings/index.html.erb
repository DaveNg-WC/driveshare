<div class="container" style="margin-top: 15px;">
  <h1>Listings</h1>
  <%= form_with url: listings_path, method: :get, class: "d-flex" do %>
  <%= text_field_tag :search_brand,
    params[:search_brand],
    class: "form-control",
    placeholder: "Search by Brand"
  %>
  <%= text_field_tag :search_price,
    params[:search_price],
    class: "form-control",
    placeholder: "Search by Price, less than"
  %>
  <%= text_field_tag :search_category,
    params[:search_category],
    class: "form-control",
    placeholder: "Search by Category"
  %>
  <%= text_field_tag :search_transmission,
    params[:search_transmission],
    class: "form-control",
    placeholder: "Search by Transmission"
  %>
  <%= submit_tag "Search", class: "my-button"%>
  <% end %>


  <div data-controller="map"
        id="map"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>"
        data-map-markers-value="<%= @markers.to_json %>"
        style='width: 100%; height: 300px;'>
  </div>

  <%= link_to 'New Listing', new_listing_path, class: "btn btn-info mt-3 mb-3" %>

  <%# check app/views/shared/_listings_cards.html.erb to edit %>
  <%# make sure @listings = Lisitng.all is defined in controller %>
  <%= render "shared/listings_cards", listings: @listings %>
</div>
